{%if page.date %}
  {% assign words = content | number_of_words %}
  {% if words <= 90 %}
    {% assign reading_time = "30 sec" %}
  {% elsif words < 270 %}
    {% assign reading_time = "1 min" %}
  {% elsif words < 450 %}
    {% assign reading_time = "2 min" %}
  {% elsif words < 630 %}
    {% assign reading_time = "3 min" %}
  {% elsif words < 810 %}
    {% assign reading_time = "4 min" %}
  {% elsif words < 990 %}
    {% assign reading_time = "5 min" %}
  {% else %}
    {% assign reading_time = words | divided_by:180 | append:" min" %}
  {% endif %}
{% else %}
  {% assign words = post.content | number_of_words %}
  {% if words <= 90 %}
    {% assign reading_time = "30 sec" %}
  {% elsif words < 270 %}
    {% assign reading_time = "1 min" %}
  {% elsif words < 450 %}
    {% assign reading_time = "2 min" %}
  {% elsif words < 630 %}
    {% assign reading_time = "3 min" %}
  {% elsif words < 810 %}
    {% assign reading_time = "4 min" %}
  {% elsif words < 990 %}
    {% assign reading_time = "5 min" %}
  {% else %}
    {% assign reading_time = words | divided_by:180 | append:" min" %}
  {% endif %}
{% endif %}

{%if page.date %}
    <p class="meta">
        <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">{{ page.date | date: '%-d %B %Y'}}</time> |
        <a href="{{ page.url }}#disqus_thread" data-disqus-identifier="{{ page.id }}" itemprop="interactionCount">Comments</a> |
        Reading time {{ reading_time }}
    </p>
{% else %}
    <p class="meta">
        <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: '%-d %B %Y'}}</time> |
        <a href="{{ post.url }}#disqus_thread" data-disqus-identifier="{{ post.id }}" itemprop="interactionCount">Comments</a> |
        Reading time {{ reading_time }}
    </p>
{% endif %}
