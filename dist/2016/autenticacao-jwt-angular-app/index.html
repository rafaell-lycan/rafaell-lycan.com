<!doctype html><html lang="pt-BR" dir="ltr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Autenticação com Tokens em uma aplicação AngularJS</title><meta name="description" content="Web development, front end stuff, tutorials for beginners and more by Rafaell Lycan! "><meta name="google-site-verification" content="epFgX0s_0RM3CdjwFcsewfXzPov2g8s9ZBOLyaIUH-o"/><meta name="robots" content="index, follow"><meta name="HandheldFriendly" content="True" /><meta name="MobileOptimized" content="320" /><meta name="mobile-web-app-capable" content="yes"><link rel="canonical" href="http://localhost:4000/2016/autenticacao-jwt-angular-app/"><link rel="alternate" type="application/rss+xml" title="Hi there, I'm Rafaell" href="http://feeds.feedburner.com/MikeFowler" /><link rel="shortcut icon" href="/assets/img/icons/favicon.ico" type="image/x-icon" /><link rel="author" href="https://plus.google.com/+https://plus.google.com/+RafaellLycan?rel=author"><link rel='dns-prefetch' href='//ajax.googleapis.com' /><link rel='dns-prefetch' href='//fonts.googleapis.com' /><link rel='dns-prefetch' href='//use.fontawesome.com' /><link rel='dns-prefetch' href='//s.gravatar.com' /><link rel='dns-prefetch' href='//s2.getsmartlook.com'><link rel='dns-prefetch' href='//rec.getsmartlook.com'><link rel='preconnect' href='//fonts.googleapis.com' crossorigin /><link rel='preconnect' href='//fonts.gstatic.com' crossorigin><link rel='preconnect' href='//s2.getsmartlook.com' crossorigin><link rel='preconnect' href='//rec.getsmartlook.com' crossorigin> <meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@RafaellLycan" /><meta name="twitter:title" content="Autenticação com Tokens em uma aplicação AngularJS" /><meta name="twitter:description" content="Web development, front end stuff, tutorials for beginners and more by Rafaell Lycan! " /><meta property="twitter:image:src" content="http://localhost:4000/assets/img/blog-image.png"> <meta property="og:title" content="Autenticação com Tokens em uma aplicação AngularJS"><meta property="og:url" content="http://localhost:4000/2016/autenticacao-jwt-angular-app/"><meta property="og:description" content="Web development, front end stuff, tutorials for beginners and more by Rafaell Lycan! "><meta property="og:image" content="http://localhost:4000/assets/img/blog-image.png"><meta property="og:type" content="article"><meta property="og:site_name" content="Hi there, I'm Rafaell"><link rel="manifest" href="/manifest.json"><link rel="apple-touch-icon" href="/assets/img/icon-96x96.png"><link rel="icon" sizes="192x192" href="/assets/img/icon-192x192.png"><link rel="shortcut icon" href="/assets/img/icon-192x192.png"><style> @charset "UTF-8"; /** Variables */ /** Colors */ /* * It returns the current percent of a context on a reference using pixels * Thanks Ethan Marcotte */ /* * It returns flexible value using 'target / context' formula. * Returns 'rem' as format. */ /* Breakpoint mixin */ /* * It create the current percent of a context on a reference using pixels * Thanks Ethan Marcotte */ /*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */ /* Document ========================================================================== */ /** 1. Change the default font family in all browsers (opinionated). 2. Correct the line height in all browsers. 3. Prevent adjustments of font size after orientation changes in IE on Windows Phone and in iOS. */ html { font-family: sans-serif; /* 1 */ line-height: 1.15; /* 2 */ -ms-text-size-adjust: 100%; /* 3 */ -webkit-text-size-adjust: 100%; /* 3 */ } /* Sections ========================================================================== */ /** Remove the margin in all browsers (opinionated). */ body { margin: 0; } /** Add the correct display in IE 9-. */ article, aside, footer, header, nav, section { display: block; } /** Correct the font size and margin on `h1` elements within `section` and `article` contexts in Chrome, Firefox, and Safari. */ h1, .h1 { font-size: 2em; margin: 0.67em 0; } /* Grouping content ========================================================================== */ /** Add the correct display in IE 9-. 1. Add the correct display in IE. */ figcaption, figure, main { /* 1 */ display: block; } /** Add the correct margin in IE 8. */ figure { margin: 1em 40px; } /** 1. Add the correct box sizing in Firefox. 2. Show the overflow in Edge and IE. */ hr { box-sizing: content-box; /* 1 */ height: 0; /* 1 */ overflow: visible; /* 2 */ } /** 1. Correct the inheritance and scaling of font size in all browsers. 2. Correct the odd `em` font sizing in all browsers. */ pre { font-family: monospace, monospace; /* 1 */ font-size: 1em; /* 2 */ } /* Text-level semantics ========================================================================== */ /** 1. Remove the gray background on active links in IE 10. 2. Remove gaps in links underline in iOS 8+ and Safari 8+. */ a { background-color: transparent; /* 1 */ -webkit-text-decoration-skip: objects; /* 2 */ } /** Remove the outline on focused links when they are also active or hovered in all browsers (opinionated). */ a:active, a:hover { outline-width: 0; } /** 1. Remove the bottom border in Firefox 39-. 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari. */ abbr[title] { border-bottom: none; /* 1 */ text-decoration: underline; /* 2 */ text-decoration: underline dotted; /* 2 */ } /** Prevent the duplicate application of `bolder` by the next rule in Safari 6. */ b, strong { font-weight: inherit; } /** Add the correct font weight in Chrome, Edge, and Safari. */ b, strong { font-weight: bolder; } /** 1. Correct the inheritance and scaling of font size in all browsers. 2. Correct the odd `em` font sizing in all browsers. */ code, kbd, samp { font-family: monospace, monospace; /* 1 */ font-size: 1em; /* 2 */ } /** Add the correct font style in Android 4.3-. */ dfn { font-style: italic; } /** Add the correct background and color in IE 9-. */ mark { background-color: #ff0; color: #000; } /** Add the correct font size in all browsers. */ small { font-size: 80%; } /** Prevent `sub` and `sup` elements from affecting the line height in all browsers. */ sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } sub { bottom: -0.25em; } sup { top: -0.5em; } /* Embedded content ========================================================================== */ /** Add the correct display in IE 9-. */ audio, video { display: inline-block; } /** Add the correct display in iOS 4-7. */ audio:not([controls]) { display: none; height: 0; } /** Remove the border on images inside links in IE 10-. */ img { border-style: none; } /** Hide the overflow in IE. */ svg:not(:root) { overflow: hidden; } /* Forms ========================================================================== */ /** 1. Change the font styles in all browsers (opinionated). 2. Remove the margin in Firefox and Safari. */ button, input, optgroup, select, textarea { font-family: sans-serif; /* 1 */ font-size: 100%; /* 1 */ line-height: 1.15; /* 1 */ margin: 0; /* 2 */ } /** Show the overflow in IE. 1. Show the overflow in Edge. */ button, input { /* 1 */ overflow: visible; } /** Remove the inheritance of text transform in Edge, Firefox, and IE. 1. Remove the inheritance of text transform in Firefox. */ button, select { /* 1 */ text-transform: none; } /** 1. Prevent a WebKit bug where (2) destroys native `audio` and `video` controls in Android 4. 2. Correct the inability to style clickable types in iOS and Safari. */ button, html [type="button"], [type="reset"], [type="submit"] { -webkit-appearance: button; /* 2 */ } /** Remove the inner border and padding in Firefox. */ button::-moz-focus-inner, [type="button"]::-moz-focus-inner, [type="reset"]::-moz-focus-inner, [type="submit"]::-moz-focus-inner { border-style: none; padding: 0; } /** Restore the focus styles unset by the previous rule. */ button:-moz-focusring, [type="button"]:-moz-focusring, [type="reset"]:-moz-focusring, [type="submit"]:-moz-focusring { outline: 1px dotted ButtonText; } /** Change the border, margin, and padding in all browsers (opinionated). */ fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; } /** 1. Correct the text wrapping in Edge and IE. 2. Correct the color inheritance from `fieldset` elements in IE. 3. Remove the padding so developers are not caught out when they zero out `fieldset` elements in all browsers. */ legend { box-sizing: border-box; /* 1 */ color: inherit; /* 2 */ display: table; /* 1 */ max-width: 100%; /* 1 */ padding: 0; /* 3 */ white-space: normal; /* 1 */ } /** 1. Add the correct display in IE 9-. 2. Add the correct vertical alignment in Chrome, Firefox, and Opera. */ progress { display: inline-block; /* 1 */ vertical-align: baseline; /* 2 */ } /** Remove the default vertical scrollbar in IE. */ textarea { overflow: auto; } /** 1. Add the correct box sizing in IE 10-. 2. Remove the padding in IE 10-. */ [type="checkbox"], [type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ } /** Correct the cursor style of increment and decrement buttons in Chrome. */ [type="number"]::-webkit-inner-spin-button, [type="number"]::-webkit-outer-spin-button { height: auto; } /** 1. Correct the odd appearance in Chrome and Safari. 2. Correct the outline style in Safari. */ [type="search"] { -webkit-appearance: textfield; /* 1 */ outline-offset: -2px; /* 2 */ } /** Remove the inner padding and cancel buttons in Chrome and Safari on macOS. */ [type="search"]::-webkit-search-cancel-button, [type="search"]::-webkit-search-decoration { -webkit-appearance: none; } /** 1. Correct the inability to style clickable types in iOS and Safari. 2. Change font properties to `inherit` in Safari. */ ::-webkit-file-upload-button { -webkit-appearance: button; /* 1 */ font: inherit; /* 2 */ } /* Interactive ========================================================================== */ /* Add the correct display in IE 9-. 1. Add the correct display in Edge, IE, and Firefox. */ details, menu { display: block; } /* Add the correct display in all browsers. */ summary { display: list-item; } /* Scripting ========================================================================== */ /** Add the correct display in IE 9-. */ canvas { display: inline-block; } /** Add the correct display in IE. */ template { display: none; } /* Hidden ========================================================================== */ /** Add the correct display in IE 10-. */ [hidden] { display: none; } /** Basic styling */ *, *:before, *:after { box-sizing: border-box; } body { font: 1rem/1.8rem "Merriweather", "PT Serif", Georgia, Cambria, "Times New Roman", Times, serif; letter-spacing: 0.01rem; color: #4f5a63; background: #fff; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; } /** Images */ img { max-width: 100%; vertical-align: middle; border-radius: 2px; } /** Figures */ figure { width: 100%; margin: 0 auto; position: relative; clear: both; outline: 0; box-sizing: border-box; user-select: auto; z-index: 100; } figure > img { display: block; } figcaption { position: relative; width: 100%; left: 0; top: 0; color: rgba(79, 90, 99, 0.6); outline: 0; text-align: center; font-size: 14px; margin: 10px auto 0; } /** Headings */ h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, h6 { font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; line-height: 1.2em; font-weight: 700; } h1, .h1 { font-size: 3rem; letter-spacing: -2px; } h2, .h2 { font-size: 2.25rem; margin-top: 3rem; letter-spacing: -1px; } h3, .h3 { font-size: 1.875rem; } h4, .h4 { font-size: 1.5rem; } @media only screen and (max-width: 768px) { h1, .h1 { font-size: 2.8rem; } h2, .h2 { font-size: 2.2rem; } } @media only screen and (max-width: 480px) { h1, .h1 { font-size: 1.75rem; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.3rem; } h4, .h4 { font-size: 1.125rem; } } /** Paragraphs */ p { margin: 0 0 1.875rem; } /** Blockquotes */ blockquote { position: relative; margin: 3.125rem 0; padding: 0 2.5em; font-style: italic; font-size: 1.25rem; color: rgba(79, 90, 99, 0.6); letter-spacing: -.01rem; } blockquote:after, blockquote:before { position: absolute; font-size: 4em; color: rgba(0, 0, 0, 0.6); z-index: -1; font-family: 'Droid Serif', georgia, serif; } blockquote:after { content: "”"; right: 0px; } blockquote:before { content: "“"; left: 0px; } blockquote > :last-child { margin-bottom: 0; } /** Horizontal Reference */ hr { box-sizing: content-box; height: 0; display: block; border: 0; text-align: center; margin-top: 50px; margin-bottom: 50px; } hr:before { content: '...'; display: inline-block; margin-left: .6em; color: rgba(79, 90, 99, 0.4); position: relative; top: -30px; font-size: 1.8rem; letter-spacing: .6em; } @media only screen and (max-width: 768px) { hr { margin-top: 30px; margin-bottom: 30px; font-size: 1.25rem; line-height: 1.4; } } /** Code formatting */ pre, code { font-size: 1em; border-radius: 2px; } code { font-family: "Fira Mono", "monaco", "Consolas", "Lucida Console", monospace; font-size: 1rem; letter-spacing: -0.3px; padding: 1px 5px; white-space: normal; } :not(pre) > code { background: #f5f5f5; margin-right: 0.05em; margin-left: 0.05em; padding-right: 5px; padding-left: 5px; white-space: nowrap; } pre { background: #f5f5f5; line-height: 1.35; overflow-x: auto; margin: 1.875rem 0; white-space: pre; word-wrap: normal; -webkit-overflow-scrolling: touch; } pre > code { border-radius: 2px; color: #3d3e44; display: block; outline: none; overflow-x: auto; padding: 1rem; white-space: inherit; } /** Clearfix */ .clearfix:after { content: ""; display: table; clear: both; } /** Hidden */ .hidden { visibility: hidden; display: none; } /** Default list */ .default-list { list-style-type: none; margin: 0; padding: 0; } /** Image rounded */ .img-rounded { border-radius: 50%; } /** Center */ .center { margin-left: auto; margin-right: auto; } .text-center { text-align: center !important; } .text-light { font-weight: normal; } .text-base-color { color: #0074d9; } /** Links */ a { color: #0074d9; text-decoration: none; transition: all 300ms ease-in-out; } a:hover { color: #0059a6; } a:active, a:hover { text-decoration: underline; outline: 0; } .animate { animation: fade-in-down 600ms; animation-delay: 200ms; } @-webkit-keyframes fade-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } } @-moz-keyframes fade-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } } @-ms-keyframes fade-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } } @-o-keyframes fade-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } } @keyframes fade-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } } @-webkit-keyframes fade { 0% { opacity: 0; } 60% { opacity: 0; } 100% { opacity: 1; } } @-moz-keyframes fade { 0% { opacity: 0; } 60% { opacity: 0; } 100% { opacity: 1; } } @-ms-keyframes fade { 0% { opacity: 0; } 60% { opacity: 0; } 100% { opacity: 1; } } @-o-keyframes fade { 0% { opacity: 0; } 60% { opacity: 0; } 100% { opacity: 1; } } @keyframes fade { 0% { opacity: 0; } 60% { opacity: 0; } 100% { opacity: 1; } } .header { width: 100%; margin-bottom: 3.75rem; } .header .author { margin: 0 auto; max-width: 45rem; padding-left: 0; padding-right: 0; border: none; animation: fade 600ms ease; } .header img { min-width: 120px; } .header p { color: inherit; } @media only screen and (max-width: 30rem) { .header p { display: none; } } .nav { position: relative; width: 100%; text-align: center; background-color: #1d2637; font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; } .nav__brand { font-weight: 700; } @media only screen and (min-width: 48rem) { .nav__brand { position: absolute; top: 0; left: 0; } } @media only screen and (min-width: 48rem) { .nav__github { position: absolute; top: 0; right: 0; } } .nav__list { max-width: 45rem; margin: 0 auto; padding: 0; list-style: none; overflow: hidden; animation: fade 600ms ease; } .nav__item { float: left; width: 33.33%; } .nav a { display: block; padding: 0.625rem 1.875rem; font-size: 13px; color: #E2E6E7; text-decoration: none; text-transform: uppercase; letter-spacing: 1.2px; transition: all 300ms ease-in-out; } .nav a:hover { color: #0d8eff; } .nav svg { vertical-align: bottom; width: 32px; height: 32px; fill: #fff; } .main-nav { position: relative; padding: 35px 40px; margin: 0 0 30px 0; } .main-nav.overlay { position: absolute; top: 0; left: 0; right: 0; height: 70px; border: none; } .split-layout__sidebar { position: relative; display: flex; padding: 1.875rem; background: #1d2637; background: url("../svgs/bg-triangles-black.svg"); font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: white; text-align: center; flex-direction: column; align-items: center; justify-content: center; } @media only screen and (min-width: 48rem) { .split-layout__sidebar { position: fixed; width: 40%; height: 100%; left: 0; } } @media only screen and (min-width: 60rem) { .split-layout__sidebar { width: 30%; } } .split-layout__avatar { max-width: 120px; } @media only screen and (max-width: 30rem) { .split-layout__avatar { display: none; } } .split-layout__title { font-size: 1.875rem; font-weight: 300; } .split-layout__subtitle { font-size: 0.875rem; margin-top: 0; text-transform: uppercase; opacity: .4; } @media only screen and (max-width: 30rem) { .split-layout__subtitle { padding-bottom: 2rem; } } .split-layout__description { padding: 1.875rem 0 0; } @media only screen and (max-width: 30rem) { .split-layout__description { display: none; } } .split-layout__content { padding-top: 1.875rem; padding-bottom: 1.875rem; } @media only screen and (min-width: 48rem) { .split-layout__content { margin-left: 40%; width: auto; max-width: 100%; } } @media only screen and (min-width: 60rem) { .split-layout__content { margin-left: 30%; } } .split-layout .nav { position: absolute; bottom: 0; } .split-layout .nav__brand, .split-layout .nav__github { display: none; } .split-layout .section-title { display: none; } .split-layout .post-list:before, .split-layout .post-list:after { display: none; }</style><link rel="stylesheet" href="/assets/css/main.css?1493084291212194000"><body> <main class="wrapper"><nav class="nav" role="navigation" itemtype="http://schema.org/SiteNavigationElement" itemscope> <a class="nav__brand" href="http://localhost:4000" title="Hi there, I'm Rafaell"> Rafaell Lycan </a><ul class="nav__list"><li class="nav__item"> <a href="/articles" class="nav__link" itemprop="url">Articles</a><li class="nav__item"> <a href="/projects/" class="nav__link" itemprop="url">Projects</a><li class="nav__item"> <a href="/about/" class="nav__link" itemprop="url">About</a></ul><a class="nav__github" href="https://github.com/rafaell-lycan" title="GitHub" target="github_profile"> <svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"> </path> </svg> </a></nav><article class="post single" itemscope itemtype="http://schema.org/BlogPosting"><header class="post__header container"><h1 class="post__title" itemprop="name headline"> Autenticação com Tokens em uma aplicação AngularJS</h1><div class="post__meta"> <time datetime="2016-05-29T00:00:00+02:00" itemprop="datePublished"> May 29, 2016 </time> <span class="section-spacing"> 2095 words </span> <span> 11 minutes read </span><ul class="meta-tag__list"><li class="meta-tag__item"> <a href="/tags/#development">development</a><li class="meta-tag__item"> <a href="/tags/#angular">angular</a></ul></div><div class="post__meta__divider"></div></header><section class="post__content container"><p>Primeiramente vamos a pergunta que não quer calar: <strong>você usa tokens?</strong><p>Se você quer pular a teoria e ir direto para o código, sinta-se livre e veja <a href="#angular-app">usar tokens em um SPA Angular</a>.<p>Então todo mundo já utilizou token algumas vezes na vida. Como? Sabe aqueles arquivos marotos que ficam em nossos navegadores chamados <strong><a href="https://en.wikipedia.org/wiki/HTTP_cookie">cookies</a></strong>? Então, a cada vez que utilizamos sessão do servidor, a aplicação grava um número composto da sessão e expiração em um cookie. Sim, você usa token, talvez apenas não se deu conta disso.<p>Tokens são uma forma de se identificar com a aplicação, nada mais que isso.<p>Num mundo virtual cada token representa uma sessão/identificação. Um token pode conter N informações como nível de acesso, data de expiração e outras coisas não muito recomendadas como ID do usuário normalmente encriptado com 128 bits (128-bit <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a>).<p>Quando falamos de tokens, temos que ter uma maneira simples de criar um padrão de tokens inteligentes, e toda essa magia por traz disso é composta por algumas especificações do Json Object Signing and Encryption (JOSE) que é um conjunto de definições dos padrões para a criação de tokens inteligentes (<a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>).<p>JOSE divide a ordem lógica de criação e composição de tokens em 5 padrões: JWT, JWA, JWS, JWK e JWE.<h2 id="jwt">JWT</h2><p>Json Web Token (JWT) é um padrão (<a href="https://tools.ietf.org/html/rfc7165">RFC 7165</a>) que define como transmitir de forma segura objetos JSON compactos entre aplicações. Neste artigo vamos nos focar nele.<p>Para criarmos um JWT, precisamos entender que ele é composto por 3 elementos:<h4 id="headers">Headers</h4><p><strong>Headers</strong> são objetos JSON que normalmente definem duas partes: O <strong>tipo do token</strong> (typ) que é <strong>JWT</strong>, e o <strong>algorítimo (alg) de encriptação</strong> que será utilizado, como HMAC SHA256 ou RSA;<p>Exemplo:<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HS256"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="w">
</span><span class="p">}</span></code></pre></figure><h4 id="payload-claims">Payload (Claims)</h4><p><strong>Payloads</strong> são objetos JSON que contem os chamados <strong>claims</strong>, que pode definição são os atributos sobre a entidade tratada (normalmente o usuário). Existem 3 tipos de claims em payloads:<ul><li>Reserved claims: São atributos não obrigatórios (mas recomendados) que podem ser um conjunto de informações úteis e interoperáveis normalmente utilizados por protocolos de segurança em várias APIs. <em>Ex: <strong>iss</strong>(issuer), <strong>exp</strong>(expiration), <strong>sub</strong>(subject), etc.</em><li>Public claims: São atributos que definem o uso do JWT e informações úteis para a aplicação.<li>Private claims: São atributos definidos especialmente para compartilhar informações entre aplicações</ul><p>Exemplo:<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300819380</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rafaell-lycan"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span></code></pre></figure><h4 id="signature">Signature</h4><p>Onde a magia acontece, é a terceira e ultima parte do nosso JWT feita a partir do hash (Base64Url) do header e do payload e uma <strong>chave</strong> definida em nossa aplicação e assinar isso.<p>Vamos a um exemplo utilizando o algoritimo HMAC SHA256:<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">encodedString</span> <span class="o">=</span> <span class="nx">base64UrlEncode</span><span class="p">(</span><span class="nx">header</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"."</span> <span class="o">+</span> <span class="nx">base64UrlEncode</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

<span class="nx">HMACSHA256</span><span class="p">(</span><span class="nx">encodedString</span><span class="p">,</span> <span class="s1">'secret'</span><span class="p">);</span></code></pre></figure><p>Isso ira gerar um token com essa estrutura:<figure class="highlight"><pre><code class="language-bash" data-lang="bash">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2FwaS5naXRodWIuY29tIiwiZXhwIjoxMzAwODE5MzgwLCJ1c2VyIjoicmFmYWVsbC1seWNhbiIsImFkbWluIjp0cnVlLCJpYXQiOjE0NjQxOTQzNTh9.CcXOdvwL1baDNzhEjds9u59oHVrqG97hj9oVdZMzpaI</code></pre></figure><p>Perceba que é uma string dividida em <strong>3 partes</strong> separados por <code class="highlighter-rouge">.</code>, sendo elas os respectivos hashs dos headers, payload e signature.<p>Atualmente o <a href="https://auth0.com/">Auth0</a> é o melhor lugar para tirar informações sobre como criar e testar seus tokens. Você também pode utilizar o <a href="https://jwt.io/">JWT Debugger</a> para verificar se a assinatura é válida.<p><strong>Tudo muito lindo e legal, mas como isso funciona na prática?</strong><p>Imagine que sua Aplicação possui 2 clientes: SPA e Mobile. Nós utilizaremos o JWT para <strong>autenticar</strong> o usuário a acessar certas partes da nossa aplicação, mas para isso ele precisa logar em nosso sistema que retornar um JWT a ser armazenado na aplicação (LocalStorage/SQLite) ao invés de utilizar o modo tradicional através de cookies e sessão.<p>Sempre que for necessário acessar recursos protegidos, o cliente deve enviar o JWT através do <strong>Authorization</strong> na header utilizando a flag <strong>Bearer</strong>.<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">Authorization:</span><span class="w"> </span><span class="err">Bearer</span><span class="w"> </span><span class="err">&lt;token&gt;</span></code></pre></figure><p>Este é um exemplo de autenticação <strong>stateless</strong>, que é uma forma de proteger rotas onde uma vez que o usuário o JWT definido, ele pode acessar recursos protegidos. Uma boa ideia é colocar alguns dados no payload que irão reduzir o acesso ao DB sem necessidade. Essa também é uma forma de permitir serviços comunicarem-se entre si. E o melhor, não importa de qual domínio sua aplicação esta sendo acessada, pois podemos facilmente contornar esse problema utilizando <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a>, o que já não é possível através de cookies a não ser que você faça uma gambiarra com <code class="highlighter-rouge">postMessage()</code> que não é uma coisa muito bonita de se fazer.<p>O diagrama a baixo mostra o processo: <img src="https://cdn.auth0.com/content/jwt/jwt-diagram.png" alt="Comunicação via JWT" /><p>Agora que você já sabe o que é um JWT, então podemos continuar para a autenticação no Angular.<h2 id="angular-app">Angular App</h2><p>No lado cliente, nossa aplicação Angular precisa enviar dados de autorização para nossa API no cabeçalho a cada requisição HTTP.<p>Essa é uma alteração comum em uma aplicação MEAN Stack, pois como disse anteriormente cookies não são a melhor maneira de criarmos e utilizarmos tokens.<p>Eu vou dividir o exemplo em 3 partes:<ol><li>Auth Service<li>HTTP Interceptor<li>Secured Routes</ol><p>Como é um exemplo simples, eu vou deixar claro que nos códigos a seguir estou utilizando o <a href="https://github.com/gsklee/ngStorage">ngStorage</a> e <a href="https://docs.angularjs.org/api/ngRoute">ngRoute</a>.<h4 id="auth-service">Auth Service</h4><p>Bom, o <code class="highlighter-rouge">AuthService</code> será o encarregado por fazer login/logout e armazenar o token do usuário.<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'app'</span><span class="p">,</span> <span class="p">[])</span>
  <span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">'AuthService'</span><span class="p">,</span> <span class="nx">AuthService</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">AuthService</span> <span class="p">(</span><span class="nx">$http</span><span class="p">,</span> <span class="nx">$localStorage</span><span class="p">,</span> <span class="nx">$q</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">getToken</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">$localStorage</span><span class="p">.</span><span class="nx">token</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="na">setToken</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">token</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$localStorage</span><span class="p">.</span><span class="nx">token</span> <span class="o">=</span> <span class="nx">token</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="na">signin</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$http</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'api/signin'</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="na">signup</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$http</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'api/signup'</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="na">logout</span> <span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">delete</span> <span class="nx">$localStorage</span><span class="p">.</span><span class="nx">token</span><span class="p">;</span>
      <span class="nx">$q</span><span class="p">.</span><span class="nx">when</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span></code></pre></figure><p>Sim, este exemplo de serviço esta longe de ser um dos melhores, já que ele faz muita coisa como gerenciar as rotas e gerenciar o token da aplicação. Uma boa refatoração seria isolar isso em dois serviços.<p>Explicando brevemente, temos <strong>signin</strong> onde passamos <em>username</em> e <em>password</em> e como retorno temos o token caso sucesso, e <strong>signup</strong> onde passamos os dados para cadastro e no fim também temos o token caso sucesso. <strong>logout</strong> apenas vamos deletar o token da aplicação e o <strong>retorno é uma promise</strong>/<code class="highlighter-rouge">$q.when()</code>, o qual será <em>utilizada para um possível redirect</em> e <strong>get/set</strong> para utilizarmos o token.<h4 id="http-interceptor">HTTP Interceptor</h4><p>Tendo em mente que nosso <code class="highlighter-rouge">AuthService</code> já esta pronto, agora precisamos injeta-lo em nosso serviço HTTP. Lembrando que podemos ter vários interceptores em nossa aplicação.<p>Existem 2 tipos de interceptors: <strong>Request</strong> e <strong>Response</strong>.<p>Ambos são funções, com a principal diferença que toda <strong>request</strong> recebe um objeto <strong>config</strong> como parametro default, o qual configura toda requisição realizada, enquanto toda <strong>response</strong> recebe o objeto de response padrão da API.<p>É muito comum tratar vulnerabilidade dependendo do contexto e conteúdo que você tem na sua aplicação.<p>Tanto a <strong>request</strong> quanto a <strong>response</strong> podem sofrer algum tipo de falha/rejeição durante a ação, então também temos dois handlers para tratarmos os erros de requisição.<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'app'</span><span class="p">,</span> <span class="p">[])</span>
  <span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">'AuthInterceptor'</span><span class="p">,</span> <span class="nx">AuthInterceptor</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$httpProvider</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$httpProvider</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">'AuthInterceptor'</span><span class="p">);</span>
  <span class="p">});</span>

<span class="kd">function</span> <span class="nx">AuthInterceptor</span> <span class="p">(</span><span class="nx">$location</span><span class="p">,</span> <span class="nx">AuthService</span><span class="p">,</span> <span class="nx">$q</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">request</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">config</span><span class="p">.</span><span class="nx">headers</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">headers</span> <span class="o">||</span> <span class="p">{};</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">AuthService</span><span class="p">.</span><span class="nx">getToken</span><span class="p">())</span> <span class="p">{</span>
        <span class="nx">config</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="s1">'Authorization'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Bearer '</span> <span class="o">+</span> <span class="nx">AuthService</span><span class="p">.</span><span class="nx">getToken</span><span class="p">();</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="na">responseError</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">401</span> <span class="o">||</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">403</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$location</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="s1">'/signin'</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="nx">$q</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>Em resumo nós colocamos um <code class="highlighter-rouge">AuthInterceptor</code> utilizando o <code class="highlighter-rouge">$httpProvider</code> onde configuramos as headers da aplicação para caso exista um token em nosso <code class="highlighter-rouge">AuthService</code>, o mesmo será adicionado junto a flag <strong>Bearer</strong> no momento da <strong>request</strong>, e adicionamos um <strong>handler de error</strong> em nosso <strong>response</strong> para caso o status da requisição retorne 401 ou 403 nós redirecionamos o usuário para a tela de login e caso contrário nós passsamos o erro adiante através de <code class="highlighter-rouge">$q.reject()</code>.<h4 id="secured-routes">Secured Routes</h4><p>Por padrão como disse anteriormente sua app deveria ser stateless, mas como o mundo não é perfeito nem de longe, eu quero compartilhar uma abordagem para validar rotas verificando o mínimo possível.<p>A primeira coisa a ser feita é adicionar um parâmetro simples nas propriedades da rota para verificar se a rota precisa ser autenticada ou não:<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$routeProvider</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">'/rota-segura'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'/template.html'</span><span class="p">,</span>
  <span class="na">controller</span><span class="p">:</span> <span class="s1">'mainController'</span><span class="p">,</span>
  <span class="na">controllerAs</span><span class="p">:</span> <span class="s1">'vm'</span><span class="p">,</span>
  <span class="na">authorize</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span></code></pre></figure><p>Feito isso, a cada mudança de rota, precisamos agora verificar se existe a propriedade <code class="highlighter-rouge">authorize</code> na rota destino, o que faremos escutando o evento <code class="highlighter-rouge">$routeChangeStart</code> do <strong>ngRoute</strong>.<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'app'</span><span class="p">,</span> <span class="p">[])</span>
  <span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$rootScope</span><span class="p">,</span> <span class="nx">$location</span><span class="p">,</span> <span class="nx">AuthService</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$rootScope</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">'$routeChangeStart'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">next</span><span class="p">,</span> <span class="nx">current</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">next</span><span class="p">.</span><span class="nx">authorize</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">AuthService</span><span class="p">.</span><span class="nx">getToken</span><span class="p">())</span> <span class="p">{</span>
          <span class="cm">/* Ugly way
          event.preventDefault();
          $location.path('/login');
          ========================== */</span>

          <span class="nx">$rootScope</span><span class="p">.</span><span class="nx">$evalAsync</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$location</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="s1">'/signin'</span><span class="p">);</span>
          <span class="p">})</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">});</span>

  <span class="p">});</span></code></pre></figure><p>Neste exemplo deixamos claro que além de verificar se a rota possui a propriedade <code class="highlighter-rouge">authorize</code>, também verifico uma informação adicional, nesse caso eu usei o <code class="highlighter-rouge">getToken()</code> mas você pode utilizar o que fizer sentido na sua aplicação. Talvez um nível de usuário ou algo do tipo. Quanto a forma de cancelar o evento, existem duas formas de se fazer a mesma coisa. A primeira que é mais simples é cancelar o evento através de <code class="highlighter-rouge">event.preventDefault()</code> e redirecionar o usuário. Uma forma mais elegante seria utilizar o <code class="highlighter-rouge">$evalAsync</code> que é um método existente nos escopos que em uma cadeia de eventos assincronos, ele tem prioridade sobre as outras, ou seja, ele precisa rodar para o evento vigente continuar, o que nesse caso cancela o evento default da rota e atualiza o escopo redirecionando o usuário.<h2 id="nota">Nota</h2><p>Sei que estou um tanto quanto ausente nos posts, principalmente na série Laravel, mas prometo colocar mais conteúdo assim que possível.<p>Na verdade este post só saiu por conta de ser uma coisa que fui motivado a fazer pelo <strong>Fabio Santos</strong>, o qual me mandou um email perguntando exatamente sobre isso, então durante algumas horas no meu fim de semana eu li um pouco mais sobre <strong>JOSE</strong> e as RFC’s afim de melhor meu embasamento teórico e escrever algo de qualidade.<p>Acho justo escrever coisas com qualidade, e não apenas escrever por escrever.<p>Em algumas semanas eu vou ter mais tempo para escrever, pois estarei de férias da pós, assim termino os posts de Laravel e outros dois sobre NodeJS.<p>Dúvidas? Podem colocar nos comentários abaixo que assim que der eu respondo.</section><footer class="post__footer"><section class="share"><div class="container"><ul class="share__post-list"><li class="share__post-item" data-hint="Share on Facebook"> <a class="share__icon share__icon--facebook" href="https://facebook.com/sharer.php?u=http://localhost:4000/2016/autenticacao-jwt-angular-app/" target="share-facebook" title="Share on Facebook"> <span class="share__text">Like</span></a> </a><li class="share__post-item" data-hint="Share on Twitter"> <a class="share__icon share__icon--twitter" href="https://twitter.com/intent/tweet?text=Autenticação com Tokens em uma aplicação AngularJS&url=http://localhost:4000/2016/autenticacao-jwt-angular-app/&via=RafaellLycan&related=RafaellLycan" target="share-twitter" title="Share on Twitter"> <span class="share__text">Tweet</span></a> </a><li class="share__post-item" data-hint="Share on Google Plus"> <a class="share__icon share__icon--gplus" href="https://plus.google.com/share?url=http://localhost:4000/2016/autenticacao-jwt-angular-app/" target="share-gplus" title="Share on Google Plus"> <span class="share__text">+1</span></a> </a></ul></div></section><section class="related container"><h3 class="related__title">References</h3><ul class="default-list"><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://jwt.io/" title="JWT.IO" target="_blank"> <span itemprop="name">JWT.IO</span> </a><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://www.youtube.com/watch?v=trCEGixJu34" title="Death to Cookies, Long Live JSON Web Tokens" target="_blank"> <span itemprop="name">Death to Cookies, Long Live JSON Web Tokens</span> </a><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="https://docs.angularjs.org/api/ng/service/$http#interceptors" title="Angular $HTTP Interceptors" target="_blank"> <span itemprop="name">Angular $HTTP Interceptors</span> </a><li class="related__mention" itemprop="mentions" itemscope itemtype="https://schema.org/Thing"> <a itemprop="url" href="http://www.bennadel.com/blog/2777-monitoring-http-activity-with-http-interceptors-in-angularjs.htm" title="Monitoring $http Activity With $http Interceptors In AngularJS" target="_blank"> <span itemprop="name">Monitoring $http Activity With $http Interceptors In AngularJS</span> </a></ul></section><section class="author" itemprop="author"><div class="author__content container" itemscope itemtype="http://schema.org/Person"><div class="author__pic"> <img src="http://gravatar.com/avatar/dd1c977c7a3e384a9cdae3b5ddd9b006?s=150" alt="" itemprop="image" class="img-rounded"></div><div class="author__bio"><h3 class="author__name" itemprop="name">Rafael Almeida</h3><p> A brazilian Front-end Engineer, living in Barcelona. Works with the web, loves photography and beers, and hates seafood. <a href="mailto:" class="email" itemprop="email"></a> <a href="https://twitter.com/RafaellLycan" class="twitter-follow-button" data-show-count="true"></a></div></div></section><a class="next-article " href="/2016/retrospectiva-2015-odisseia-fascinante/" title="Retrospectiva 2015: Uma Odisseia Fascinante"> <span class="container"> <span class="next-article__heading">Next article:</span> <span class="next-article__title">Retrospectiva 2015: Uma Odisseia Fascinante</span> <span class="next-article__description">Vi algumas pessoas comemoram e outras reclamam sobre o ano de 2015. Quer saber como foi o meu? Vem comigo que te conto! ;) </span> <button class="btn btn--outline">Read more &rarr;</button> </span> </a><section class="comments container"><h3 class="comments__title">Comments</h3><div id="disqus_thread"></div></section><script type="text/javascript"> var disqus_loaded = false; function load_disqus(){ disqus_loaded = true; var disqus_shortname = 'rafaelllycan'; var disqus_title = ''; var disqus_url = '/2016/autenticacao-jwt-angular-app/'; var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); var ldr = document.getElementById('disqus_loader'); }; window.onscroll = function(e) { if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 600)) { if (!disqus_loaded) load_disqus(); } }; </script> </footer></article></main><footer class="footer" role="contentinfo"><div class="footer__content"> <span class="footer__copy">&copy; 2017 - Rafaell Lycan</span> <span class="footer__description">Made with ♥ using <a href="http://jekyllrb.com/">Jekyll</a> - &lt;/&gt; on <a href="https://github.com/rafaell-lycan" title="Hosted on GitHub">GitHub</a> </span><ul class="footer__social default-list"><li> <a href="#"> <i class="fa fa-twitter"></i> <span class="social-text">Twitter</span> </a><li> <a href="#"> <i class="fa fa-linkedin"></i> <span class="social-text">Linkedin</span> </a><li> <a href="#"> <i class="fa fa-github"></i> <span class="social-text">Github</span> </a></ul></div></footer> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-16383035-5', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js?1493084291212194000"></script> <script async src="https://use.fontawesome.com/81e129060e.js?1493084291212194000"></script>  <script src="/assets/scripts/main.js?1493084291212194000"></script> <script> 'use strict'; WebFont.load({ google: { families: [ 'Merriweather:300,300i,900,900i', 'Open Sans: 400,700', 'Fira Mono: 400', ] } }); // if ('serviceWorker' in navigator && (window.location.protocol === 'https:' || window.location.hostname === 'localhost')) { // navigator.serviceWorker // .register('/sw.js?1493084291212194000') // .then(function(registration){console.log('Service Worker Registered.')}) // .catch(function(error){console.log('Error during service worker registration:', error)}); // } </script>
